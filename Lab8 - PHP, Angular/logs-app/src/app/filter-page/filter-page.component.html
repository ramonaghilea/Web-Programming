
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Filter Logs</title>
</head>

<body>
<div class="container-main container-login">
  <div class="wrap-main wrap-login">

        <span class="title-main">
                Filter Logs
        </span>

    <table class='table' id="filterTable">
      <thead>
      <tr>
        <th>LogId</th>
        <th>Type</th>
        <th>Severity</th>
        <th>Date</th>
        <th>Message</th>
      </tr>
      </thead>

      <tbody>
        <tr *ngFor="let log of logs">
          <td *ngFor="let cell of log">{{cell}}</td>
        </tr>
      </tbody>
    </table>

    <form class="form-main form-login">

            <span class="subtitle-main">
                Type
            </span>
      <div class="wrap-input">
        <input class="input" type="text" id="type" name="type" placeholder="Type" #type>
      </div>

      <span class="subtitle-main">
                Severity
            </span>
      <div class="wrap-input">
        <input class="input" type="text" id="severity" name="severity" placeholder="Severity" #severity>
      </div>



      <div class="wrap-button">
        <button (click)="loadTable(type.value, severity.value)" id="filterButton" class="button" type="button">Filter</button>
      </div>
    </form>

    <div class="homepage-button">
      <a routerLink="/homepage" routerLinkActive="active">
        <button class="button">Homepage</button>
      </a>
    </div>

  </div>
</div>


<!--<script>-->
<!--  document.getElementById("filterButton").onclick = function () {-->
<!--    let filterTable = document.getElementById("filterTable");-->
<!--    let filterTableTbody = filterTable.getElementsByTagName("tbody")[0];-->

<!--    var new_tbody = document.createElement('tbody');-->
<!--    filterTableTbody.parentNode.replaceChild(new_tbody, filterTableTbody)-->

<!--    var xmlhttp = new XMLHttpRequest();-->
<!--    xmlhttp.onreadystatechange = function () {-->
<!--      if (this.readyState === 4 && this.status === 200) {-->
<!--        let logs = JSON.parse(this.responseText);-->

<!--        for (let log of logs) {-->
<!--          let row = document.createElement("tr");-->
<!--          new_tbody.appendChild(row);-->

<!--          for (let logColumn of log) {-->
<!--            let cell = document.createElement("td");-->
<!--            cell.innerText = logColumn;-->
<!--            row.appendChild(cell);-->
<!--          }-->
<!--        }-->
<!--      }-->
<!--    };-->

<!--    logType = document.getElementById("type").value;-->
<!--    logSeverity = document.getElementById("severity").value;-->

<!--    xmlhttp.open("GET", "../PHP/getLogsByTypeAndSeverity.php?type=" + logType + "&severity=" + logSeverity, true);-->
<!--    xmlhttp.send();-->
<!--  }-->
<!--</script>-->

</body>
</html>
